USE MASTER 
GO 


CREATE DATABASE GESTOR_FACTURAS
GO 


USE GESTOR_FACTURAS
GO 


CREATE TABLE USUARIOS ( 
ID_USUARIO INT NOT NULL, -- LLAVE PRIMARIA 
NOMBRE_USUARIO VARCHAR(20) NOT NULL,
CORREO_USUARIO VARCHAR(20) NOT NULL, 
CLAVE_USUARIO VARCHAR(20) NOT NULL, 
FECHA_CREACION DATE NOT NULL, 
CONSTRAINT PK_USUARIO PRIMARY KEY (ID_USUARIO) 
) 
GO 


CREATE TABLE CIUDAD( 
ID_CIUDAD INT NOT NULL, --LLAVE PRIMARIA 
NOMBRE_CIUDAD VARCHAR(20) NOT NULL, 
CONSTRAINT PK_CIUDAD PRIMARY KEY (ID_CIUDAD)
) 
GO


CREATE TABLE TIENDAS (  
ID_TIENDA INT NOT NULL,
NUMERO_TIENDA VARCHAR(20) NOT NULL, 
CORREO_TIENDA VARCHAR(50) NOT NULL,
DIRECCION_TIENDA VARCHAR(40) NOT NULL,
TELEFONO_TIENDA VARCHAR(20) NOT NULL,
ID_CIUDAD INT NOT NULL,
CONSTRAINT PK_TIENDAS PRIMARY KEY (ID_TIENDA), --llave primaria 
CONSTRAINT FK_TIENDAS_CIUDAD FOREIGN KEY (ID_CIUDAD) REFERENCES CIUDAD (ID_CIUDAD) --FK
) 
GO


CREATE TABLE PROVEEDORES ( 
ID_PROVEEDOR INT NOT NULL, -- LLAVE PRIMARIA 
NOMBRE_PROVEEDOR VARCHAR(20) NOT NULL,
CORREO_PROVEEDOR VARCHAR(20), 
TELEFONO_PROVEEDOR VARCHAR(20) NOT NULL,
CONSTRAINT PK_PROVEEDORES PRIMARY KEY (ID_PROVEEDOR) 
) 
GO 


CREATE TABLE FACTURAS (  
ID_FACTURA INT NOT NULL,
NUMERO_FACTURA INT NOT NULL, 
FECHA_EMISION DATE NOT NULL,
DIAS_VENCER INT NOT NULL,
FECHA_VENCE DATE NOT NULL,
ID_PROVEEDOR INT NOT NULL,
ID_TIENDA INT NOT NULL,
CONSTRAINT PK_FACTURAS PRIMARY KEY (ID_FACTURA), --llave primaria 
CONSTRAINT FK_FACTURAS_PROVEEDOR FOREIGN KEY (ID_PROVEEDOR) REFERENCES PROVEEDORES (ID_PROVEEDOR) --FK
CONSTRAINT FK_FACTURAS_TIENDAS FOREIGN KEY (ID_TIENDA), REFERENCES TIENDAS (ID_TIENDA) --FK
) 
GO